"use strict";angular.module("sbAdminApp",["oc.lazyLoad","ui.router","ngResource","ui.bootstrap","angular-loading-bar","ng-token-auth"]).config(function($authProvider){$authProvider.configure({apiUrl:"/api"})}).config(["$stateProvider","$urlRouterProvider","$ocLazyLoadProvider",function($stateProvider,$urlRouterProvider,$ocLazyLoadProvider){$ocLazyLoadProvider.config({debug:!1,events:!0}),$urlRouterProvider.otherwise("/dashboard"),$stateProvider.state("dashboard",{url:"/dashboard",templateUrl:"views/dashboard/main.html",resolve:{loadMyDirectives:function($ocLazyLoad){return $ocLazyLoad.load({name:"sbAdminApp",files:["scripts/directives/header/header.js","scripts/directives/header/header-notification/header-notification.js","scripts/directives/sidebar/sidebar.js","scripts/directives/sidebar/sidebar-search/sidebar-search.js"]}),$ocLazyLoad.load({name:"toggle-switch",files:["bower_components/angular-toggle-switch/angular-toggle-switch.min.js","bower_components/angular-toggle-switch/angular-toggle-switch.css"]}),$ocLazyLoad.load({name:"ngAnimate",files:["bower_components/angular-animate/angular-animate.js"]})}}}).state("dashboard.groups",{templateUrl:"views/pages/groups.html",url:"/groups",controller:"GroupsCtrl"}).state("signup",{templateUrl:"views/pages/signup.html",url:"/signup",controller:"UserRegistrationsCtrl"}).state("login",{templateUrl:"views/pages/login.html",url:"/login",controller:"UserSessionsCtrl"}).state("dashboard.notifications",{templateUrl:"views/ui-elements/notifications.html",url:"/notifications"})}]).factory("Group",["$resource",function($resource){return $resource("/api/groups/:id.json",null,{update:{method:"PUT"}})}]).run(["$rootScope","$location",function($rootScope,$location){$rootScope.$on("auth:login-success",function(){$rootScope.loggedIn=!0,$location.path("/")}),$rootScope.$on("auth:logout-success",function(){$rootScope.loggedIn=!1,console.log("logged out!")})}]);